<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<title>风水罗盘-手机罗盘-专业风水罗盘</title>
		<meta name="keywords" content="风水罗盘，手机罗盘，专业风水罗盘"/>
		<meta name="description" content="在线风水手机罗盘"/>
		<link rel="stylesheet" type="text/css" href="./css/style.css" />
		<style type="text/css">
			.tools #fold {
				display: none;
			}
		</style>
	</head>
	<body id="capture">
		<div class="scroll">
			<!-- header -->
			<div class="header">
				
			</div>
			<!-- top-tool -->
			<div class="top-tool">
				<div class="gradienter">
					<span class="dot"></span>
				</div>
				<div class="weather">
					
				</div>
			</div>
			<!-- pan -->
			<div class="pan">
				<!-- jia&jian -->
				<div class="jia_btn">+</div>
				<div class="jian_btn">-</div>
				<!-- line -->
				<span class="line line-heng"></span>
				<span class="line line-shu"></span>
				<img class="main-pan" id="compass" style="transform: rotate(0deg);" src="img/luopan_1.png">
				<img class="deg-img" src="./img/a2.png" alt="" srcset="">
				<img class="zhen-img" src="./img/a3.png" alt="" srcset="">
			</div>

			<!-- tools -->
			<ul class="tools">
				<li id="switch">
					<div class="top">
						<img src="compass/001.png">
					</div>
					<p>模式</p>
				</li>
				<li id="lock">
					<div class="top">
						<img src="compass/004.png">
					</div>
					<p>锁定</p>
				</li>
				<li id="manual">
					<div class="top">
						<img src="compass/005.png">
					</div>
					<p>手动</p>
				</li>
				<li id="fold">
					<div class="top">
						<img src="compass/003.png">
					</div>
					<p>收起</p>
				</li>
				<li id="change">
					<div class="top">
						<img src="compass/002.png">
					</div>
					<p>换盘</p>
				</li>
			</ul>
			<div id="info">
				<p class="info-t">
					<strong>方位：</strong><span class="fangwei"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>度数：</strong><span
					 class="deg"></span>
				</p>
				<p class="info-t">
					<strong>经度：</strong><span class="jingdu"></span>&nbsp;&nbsp;&nbsp;&nbsp;<strong>纬度：</strong><span class="weidu"></span>
				</p>
			</div>
			<div id="allmap"></div>
		</div>
		<!-- switchs -->
		<script src="js/switch.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/index.js" type="text/javascript" charset="utf-8"></script>

		<script>
			(function(T, h, i, n, k, P, a, g, e) {
				g = function() {
					P = h.createElement(i);
					a = h.getElementsByTagName(i)[0];
					P.src = k;
					P.charset = "utf-8";
					P.async = 1;
					a.parentNode.insertBefore(P, a)
				};
			
			}
		</script>
		<script>


			var change = document.getElementById('change')
			var compass = document.getElementById('compass')
			var panBg = [
				'img/luopan_2.png',
				'img/luopan_3.png',
				'img/luopan_4.png',
				'img/luopan_5.png',
				'img/luopan_10.png',
				'img/luopan_20.png',
				'img/luopan_21.png',
				'img/luopan_22.png',
				'img/luopan_23.png',
				'img/luopan_25.png',
				'img/luopan_27.png',
				'img/luopan_28.png',
				'img/luopan_29.png',
				'img/luopan_32.webp',
				'img/luopan_33.webp',
				'img/luopan_35.webp',
				'img/luopan_36.webp',
												
			]
			var num = 0
			change.addEventListener('touchstart', function() {
				this.children[0].classList.add('active')
			})
			change.addEventListener('touchend', function() {
				num++
				if (num >= panBg.length) {
					num = 0
				}
				compass.src = panBg[num]
				this.children[0].classList.remove('active')
			})

	
		</script>
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=vWCXKkcSQdzUXyOrO5Rned20AurdLZSG"></script>
		<script type="text/javascript">
			var map = new BMap.Map("allmap");
			var point = new BMap.Point(116.331398, 39.897445);
			map.centerAndZoom(point, 12);
			var geolocation = new BMap.Geolocation();
			geolocation.getCurrentPosition(function(r) {
				if (this.getStatus() == BMAP_STATUS_SUCCESS) {
					var mk = new BMap.Marker(r.point);
					map.addOverlay(mk);
					map.panTo(r.point);
					console.log('您的位置：' + (r.point.lng).toFixed(5) + ',' + r.point.lat);
					document.querySelector(".jingdu").innerHTML = (r.point.lng).toFixed(3);
					document.querySelector(".weidu").innerHTML = (r.point.lat).toFixed(3);
				} else {
					console.log('failed' + this.getStatus());
				}
			});
		</script>


	</body>
</html>
